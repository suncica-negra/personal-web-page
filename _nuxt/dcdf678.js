(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{362:function(e,t,n){"use strict";function o(e){return`scrollama__debug-offset--${e}`}function r({id:e,offsetVal:t,stepEl:n}){!function({id:e,offsetVal:t,stepClass:n}){const r=document.createElement("div");r.id=o(e),r.className="scrollama__debug-offset",r.style.position="fixed",r.style.left="0",r.style.width="100%",r.style.height="0",r.style.borderTop="2px dashed black",r.style.zIndex="9999";const p=document.createElement("p");p.innerHTML=`".${n}" trigger: <span>${t}</span>`,p.style.fontSize="12px",p.style.fontFamily="monospace",p.style.color="black",p.style.margin="0",p.style.padding="6px",r.appendChild(p),document.body.appendChild(r)}({id:e,offsetVal:t,stepClass:n[0].className})}function c({id:e,index:t,state:n}){const o=`scrollama__debug-step--${e}-${t}`,r=document.getElementById(`${o}_above`),c=document.getElementById(`${o}_below`),l="enter"===n?"block":"none";r&&(r.style.display=l),c&&(c.style.display=l)}function l(){const e=["stepAbove","stepBelow","stepProgress","viewportAbove","viewportBelow"];let t={},n={},l=null,d=[],f=[],m=[],h=[],w=0,x=0,y=0,v=0,$=0,_=0,E=!1,C=!1,S=!1,R=!1,I=!1,M=!1,O="down",A="percent";const T=[];function k(e){console.error(`scrollama error: ${e}`)}function B(){t={stepEnter:()=>{},stepExit:()=>{},stepProgress:()=>{}},n={}}function H(e){const{top:t}=e.getBoundingClientRect();return t+window.pageYOffset-(document.body.clientTop||0)}function N(element){return+element.getAttribute("data-scrollama-index")}function F(){window.pageYOffset>$?O="down":window.pageYOffset<$&&(O="up"),$=window.pageYOffset}function P(e){n[e]&&n[e].forEach((e=>e.disconnect()))}function V(){y=window.innerHeight,v=function(){const{body:body}=document,html=document.documentElement;return Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight)}();x=w*("pixels"===A?1:y),E&&(f=d.map((e=>e.getBoundingClientRect().height)),m=d.map(H),C&&W()),S&&function({id:e,offsetMargin:t,offsetVal:n,format:r}){const c="pixels"===r?"px":"",l=o(e),d=document.getElementById(l);d.style.top=`${t}px`,d.querySelector("span").innerText=`${n}${c}`}({id:l,offsetMargin:x,offsetVal:w,format:A})}function z(t){if(t&&!C){if(!E)return k("scrollama error: enable() called before scroller was ready"),void(C=!1);W()}!t&&C&&e.forEach(P),C=t}function Y(element,progress){const e=N(element);void 0!==progress&&(h[e].progress=progress);const n={element:element,index:e,progress:h[e].progress};"enter"===h[e].state&&t.stepProgress(n)}function j(e,t){if("above"===t)for(let i=0;i<e;i+=1){const e=h[i];"enter"!==e.state&&"down"!==e.direction?(L(d[i],"down",!1),D(d[i],"down")):"enter"===e.state&&D(d[i],"down")}else if("below"===t)for(let i=h.length-1;i>e;i-=1){const e=h[i];"enter"===e.state&&D(d[i],"up"),"down"===e.direction&&(L(d[i],"up",!1),D(d[i],"up"))}}function L(element,e,n=!0){const o=N(element),r={element:element,index:o,direction:e};h[o].direction=e,h[o].state="enter",I&&n&&"down"===e&&j(o,"above"),I&&n&&"up"===e&&j(o,"below"),t.stepEnter&&!T[o]&&(t.stepEnter(r,h),S&&c({id:l,index:o,state:"enter"}),M&&(T[o]=!0)),R&&Y(element)}function D(element,e){const n=N(element),o={element:element,index:n,direction:e};R&&("down"===e&&h[n].progress<1?Y(element,1):"up"===e&&h[n].progress>0&&Y(element,0)),h[n].direction=e,h[n].state="exit",t.stepExit(o,h),S&&c({id:l,index:n,state:"exit"})}function J([e]){F();const{isIntersecting:t,boundingClientRect:n,target:o}=e,{top:r,bottom:c}=n,l=r-x,d=c-x,f=N(o),m=h[f];t&&l<=0&&d>=0&&"down"===O&&"enter"!==m.state&&L(o,O),!t&&l>0&&"up"===O&&"enter"===m.state&&D(o,O)}function U([e]){F();const{isIntersecting:t,boundingClientRect:n,target:o}=e,{top:r,bottom:c}=n,l=r-x,d=c-x,f=N(o),m=h[f];t&&l<=0&&d>=0&&"up"===O&&"enter"!==m.state&&L(o,O),!t&&d<0&&"down"===O&&"enter"===m.state&&D(o,O)}function X([e]){F();const{isIntersecting:t,target:n}=e,o=N(n),r=h[o];t&&"down"===O&&"down"!==r.direction&&"enter"!==r.state&&(L(n,"down"),D(n,"down"))}function G([e]){F();const{isIntersecting:t,target:n}=e,o=N(n),r=h[o];t&&"up"===O&&"down"===r.direction&&"enter"!==r.state&&(L(n,"up"),D(n,"up"))}function K([e]){F();const{isIntersecting:t,intersectionRatio:n,boundingClientRect:o,target:r}=e,{bottom:c}=o;t&&c-x>=0&&Y(r,+n)}function Q(){n.stepProgress=d.map(((e,i)=>{const t=`${f[i]-x}px 0px ${-y+x}px 0px`,n=function(e){const t=Math.ceil(e/_),n=[],o=1/t;for(let i=0;i<t;i+=1)n.push(i*o);return n}(f[i]),o=new IntersectionObserver(K,{rootMargin:t,threshold:n});return o.observe(e),o}))}function W(){e.forEach(P),n.viewportAbove=d.map(((e,i)=>{const t=v-m[i],n=x-y-f[i],o=new IntersectionObserver(X,{rootMargin:`${t}px 0px ${n}px 0px`});return o.observe(e),o})),n.viewportBelow=d.map(((e,i)=>{const t=-x-f[i],n=x-y+f[i]+v,o=new IntersectionObserver(G,{rootMargin:`${t}px 0px ${n}px 0px`});return o.observe(e),o})),n.stepAbove=d.map(((e,i)=>{const t=-x+f[i],n=new IntersectionObserver(J,{rootMargin:`${t}px 0px ${x-y}px 0px`});return n.observe(e),n})),n.stepBelow=d.map(((e,i)=>{const t=-x,n=x-y+f[i],o=new IntersectionObserver(U,{rootMargin:`${t}px 0px ${n}px 0px`});return o.observe(e),o})),R&&Q()}function Z(element){return!(!element||1!==element.nodeType)&&(function(element){const style=window.getComputedStyle(element);return("scroll"===style.overflowY||"auto"===style.overflowY)&&element.scrollHeight>element.clientHeight}(element)?element:Z(element.parentNode))}const ee={};return ee.setup=({step:e,parent:t,offset:n=.5,progress:progress=!1,threshold:o=4,debug:c=!1,order:f=!0,once:m=!1})=>{if(B(),l=function(){const a="abcdefghijklmnopqrstuv",e=a.length,t=Date.now();return`${[0,0,0].map((t=>a[Math.floor(Math.random()*e)])).join("")}${t}`}(),d=function(e,t=document){return"string"==typeof e?Array.from(t.querySelectorAll(e)):e instanceof Element?[e]:e instanceof NodeList?Array.from(e):e instanceof Array?e:[]}(e,t),!d.length)return k("no step elements"),ee;const x=d.reduce(((e,s)=>e||Z(s.parentNode)),!1);return x&&console.error("scrollama error: step elements cannot be children of a scrollable element. Remove any css on the parent element with overflow: scroll; or overflow: auto; on elements with fixed height.",x),S=c,R=progress,I=f,M=m,ee.offsetTrigger(n),_=Math.max(1,+o),E=!0,S&&r({id:l,stepEl:d,offsetVal:w}),d.forEach(((e,i)=>e.setAttribute("data-scrollama-index",i))),h=d.map((()=>({direction:null,state:null,progress:0}))),V(),ee.enable(),ee},ee.resize=()=>(V(),ee),ee.enable=()=>(z(!0),ee),ee.disable=()=>(z(!1),ee),ee.destroy=()=>{z(!1),B()},ee.offsetTrigger=e=>{if(null===e)return w;if("number"==typeof e)A="percent",e>1&&k("offset value is greater than 1. Fallback to 1."),e<0&&k("offset value is lower than 0. Fallback to 0."),w=Math.min(Math.max(0,e),1);else if("string"==typeof e&&e.indexOf("px")>0){const t=+e.replace("px","");isNaN(t)?(k("offset value must be in 'px' format. Fallback to 0.5."),w=.5):(A="pixels",w=t)}else k("offset value does not include 'px'. Fallback to 0.5."),w=.5;return ee},ee.onStepEnter=e=>("function"==typeof e?t.stepEnter=e:k("onStepEnter requires a function"),ee),ee.onStepExit=e=>("function"==typeof e?t.stepExit=e:k("onStepExit requires a function"),ee),ee.onStepProgress=e=>("function"==typeof e?t.stepProgress=e:k("onStepProgress requires a function"),ee),ee}function d(template,style,script,e,t,n,o,r,c,l){"boolean"!=typeof o&&(c=r,r=o,o=!1);const d="function"==typeof script?script.options:script;let f;if(template&&template.render&&(d.render=template.render,d.staticRenderFns=template.staticRenderFns,d._compiled=!0,t&&(d.functional=!0)),e&&(d._scopeId=e),n?(f=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),style&&style.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(n)},d._ssrRegister=f):style&&(f=o?function(e){style.call(this,l(e,this.$root.$options.shadowRoot))}:function(e){style.call(this,r(e))}),f)if(d.functional){const e=d.render;d.render=function(t,n){return f.call(n),e(t,n)}}else{const e=d.beforeCreate;d.beforeCreate=e?[].concat(e,f):[f]}return script}n.r(t);const f=d({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"scrollama__steps"},[e._t("default")],2)},staticRenderFns:[]},undefined,{inheritAttrs:!1,name:"Scrollama",mounted(){this._scroller=l(),this.setup()},beforeDestroy(){this._scroller.destroy()},computed:{opts(){return Object.assign({},{step:Array.from(this.$el.children),progress:!!this.$listeners["step-progress"]},this.$attrs)}},methods:{setup(){this._scroller.destroy(),this._scroller.setup(this.opts).onStepProgress((e=>{this.$emit("step-progress",e)})).onStepEnter((e=>{this.$emit("step-enter",e)})).onStepExit((e=>{this.$emit("step-exit",e)})),window.addEventListener("resize",this.handleResize)},handleResize(){this._scroller.resize()}}},undefined,false,undefined,!1,void 0,void 0,void 0);t.default=f}}]);